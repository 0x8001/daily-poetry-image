---
const { data } = Astro.props;
import { Image } from "astro:assets"

const image = {
	...data,
};
console.log(image);

const allImages = await Astro.glob(`../assets/images/*/*.jpg`).then(it => {
  return it.map(it => it.default);
});

const images = allImages.filter(it => it.src.includes(image.localImagesPath));

---

<div class="image-info border-b border-gray-800">
	<div class="container mx-auto px-4 py-16 flex flex-col items-center">
    <div class="md:ml-24">
			<h2 class="text-4xl mt-4 md:mt-0 mb-2 font-semibold">{image.content}</h2>
			<div class="flex flex-wrap items-center text-gray-400 text-md">
				<span>{image.origin}</span>
				<span class="mx-2">|</span>
				<span>{image.author}</span>
			</div>
		</div>
		<div class="flex flex-wrap w-full md:w-3/4 mt-5">
      {
        images.map((item, index) => {
          return <Image
            src={item}
            alt={`${image.content}`}
            class="hover:opacity-75 transition ease-in-out duration-150 w-full md:w-1/2"
            id={`image-poster-${item.localImagesPath}-${index}`}
            transition:name={`poster-${item.localImagesPath}-${index}`}
          />
        })
      }
		</div>
	</div>
</div>